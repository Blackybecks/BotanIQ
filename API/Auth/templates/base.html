{% set active_page = active_page|default('dashboard') -%}
{% set page_title = page_title|default('BotanIQ') -%}

<!DOCTYPE html>
<html lang="de">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="icon" href="{{ url_for('static',filename='favicon.ico') }}">

		<title>{{ page_title }}</title>

		<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
		<link href="{{ url_for('static',filename='css/base.css') }}" rel="stylesheet">
		{% block css %}
		{% endblock %}

	</head>

	<body>
		<nav class="navbar sticky-top bg-green flex-md-nowrap p-0">
			<a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">BotanIQ</a>
			<ul class="navbar-nav px-3">
				<li class="nav-item d-block d-md-none">
					<a class="nav-link {% if active_page == "dashboard" %} active {% endif %}" href="{{ url_for('main.dashboard') }}">
						<span data-feather="bar-chart-2"></span>
						Dashboard
					</a>
				</li>
				<li class="nav-item d-block d-md-none">
					<a class="nav-link {% if active_page == "profile" %} active {% endif %}" href="{{ url_for('main.profile') }}">
						<span data-feather="user"></span>
						Profil
					</a>
				</li>
				<li class="nav-item text-nowrap">
					<a class="nav-link" href="{{ url_for('auth.logout') }}">
						<span data-feather="log-out"></span>
						Logout
					</a>
				</li>
			</ul>
		</nav>

		<div class="container-fluid">
			<div class="row">
				<nav class="col-md-2 d-none d-md-block bg-light sidebar">
					<div class="sidebar-sticky">
						<ul class="nav flex-column">
							<li class="nav-item">
								<a class="nav-link {% if active_page == "dashboard" %} active {% endif %}" href="{{ url_for('main.dashboard') }}">
									<span data-feather="bar-chart-2"></span>
									Dashboard
								</a>
							</li>
						</ul>

						<h4 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
							<span>Ihr Account</span>
						</h4>

						<ul class="nav flex-column mb-2">
							<li class="nav-item">
								<a class="nav-link {% if active_page == "profile" %} active {% endif %}" href="{{ url_for('main.profile') }}">
									<span data-feather="user"></span>
									Profil
								</a>
							</li>
						</ul>
					</div>
				</nav>

				<main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
					
                    {% with messages = get_flashed_messages() %}
                        {% if messages %}
                            <div class="text-center alert alert-danger alert-dismissible fade show" role="alert">
                                {{ messages[0] }}
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                        {% endif %}
                    {% endwith %}
					
					{% block content %}
					{% endblock %}

				</main>
			</div>
		</div>


		<!-- ============================================================================================= -->
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
		<script src="{{ url_for('static',filename='js/base.js') }}"></script>
		{% block js %}
		{% endblock %}
		<script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
		<script>
		  feather.replace()
		</script>

	</body>
</html>